PS C:\Users\Leandro Maciel\Documents\operandi> vercel logs https://operandi-9g6138viu-leandrotvrs-projects.vercel.app --since=10m
Vercel CLI 46.0.2
‚ùóÔ∏è  The "--since" option was ignored because it is now deprecated. Please remove it.
Error: Deployment not ready. Currently: ‚óè Error.
PS C:\Users\Leandro Maciel\Documents\operandi> # ========= 0) Ir SIEMPRE al proyecto =========
PS C:\Users\Leandro Maciel\Documents\operandi> cd "C:\Users\Leandro Maciel\Documents\operandi"
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # ========= 1) Comprobaciones r√°pidas de entorno =========
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Get-Command node -ErrorAction SilentlyContinue)) { Write-Error "Falta Node.js"; break }
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Get-Command npm  -ErrorAction SilentlyContinue)) { Write-Error "Falta npm"; break }
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Get-Command vercel -ErrorAction SilentlyContinue)) { npm i -g vercel }
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # ========= 2) Dependencias m√≠nimas y archivos Tailwind (idempotente) =========
PS C:\Users\Leandro Maciel\Documents\operandi> # (Si ya existen, se conservan; si faltan, se crean)
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Test-Path .\package.json)) { Write-Error "No existe package.json"; break }
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # Asegurar scripts de build
PS C:\Users\Leandro Maciel\Documents\operandi> $pjson = Get-Content .\package.json -Raw | ConvertFrom-Json
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not $pjson.scripts) { $pjson | Add-Member -NotePropertyName scripts -NotePropertyValue (@{}) }
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not $pjson.scripts.build) { $pjson.scripts.build = "next build" }
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not $pjson.scripts.dev)   { $pjson.scripts.dev   = "next dev" }
PS C:\Users\Leandro Maciel\Documents\operandi> ($pjson | ConvertTo-Json -Depth 100) | Set-Content .\package.json -Encoding utf8
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # Instalar dependencias t√≠picas que faltaron en builds previas
PS C:\Users\Leandro Maciel\Documents\operandi> npm install tailwindcss postcss autoprefixer @prisma/client @auth/prisma-adapter --save

up to date, audited 557 packages in 16s

177 packages are looking for funding
  run `npm fund` for details

3 low severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
PS C:\Users\Leandro Maciel\Documents\operandi> npx prisma generate
Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma

‚úî Generated Prisma Client (v6.14.0) to .\node_modules\@prisma\client in 194ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints

PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # Archivos Tailwind / PostCSS m√≠nimos
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Test-Path .\postcss.config.js)) {
>> @'
>> module.exports = { plugins: { tailwindcss: {}, autoprefixer: {} } };
>> '@ | Set-Content .\postcss.config.js -Encoding utf8
>> }
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Test-Path .\tailwind.config.js)) {
>> @'
>> /** @type {import('tailwindcss').Config} */
>> module.exports = {
>>   darkMode: ["class"],
>>   content: [
>>     "./app/**/*.{ts,tsx}",
>>     "./components/**/*.{ts,tsx}",
>>   ],
>>   theme: { extend: {} },
>>   plugins: [],
>> };
>> '@ | Set-Content .\tailwind.config.js -Encoding utf8
>> }
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # Inyectar directivas Tailwind en globals.css si faltan
PS C:\Users\Leandro Maciel\Documents\operandi> $gcss = ".\app\globals.css"
PS C:\Users\Leandro Maciel\Documents\operandi> if (Test-Path $gcss) {
>>   $raw = Get-Content $gcss -Raw
>>   if ($raw -notmatch "@tailwind base") {
>>     "@tailwind base;`n@tailwind components;`n@tailwind utilities;`n`n$raw" | Set-Content $gcss -Encoding utf8
>>   }
>> }
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # ========= 3) .env locales m√≠nimos para dev (no afecta a Vercel) =========
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Test-Path .\.env)) { New-Item .\.env -ItemType File | Out-Null }
PS C:\Users\Leandro Maciel\Documents\operandi> if (-not (Test-Path .\.env.local)) { New-Item .\.env.local -ItemType File | Out-Null }
PS C:\Users\Leandro Maciel\Documents\operandi> $NEXTAUTH_URL_LOCAL = "http://localhost:3001"
PS C:\Users\Leandro Maciel\Documents\operandi> $NEXTAUTH_SECRET_LOCAL = [Convert]::ToBase64String((1..32 | % {Get-Random -Minimum 0 -Maximum 256}))
PS C:\Users\Leandro Maciel\Documents\operandi> Add-Content .\.env "`nNEXTAUTH_URL=$NEXTAUTH_URL_LOCAL`nNEXTAUTH_SECRET=$NEXTAUTH_SECRET_LOCAL"
PS C:\Users\Leandro Maciel\Documents\operandi> Add-Content .\.env.local "`nNEXTAUTH_URL=$NEXTAUTH_URL_LOCAL`nNEXTAUTH_SECRET=$NEXTAUTH_SECRET_LOCAL"

PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # ========= 4) Build local (para ver el error real si falla) =========
PS C:\Users\Leandro Maciel\Documents\operandi> # Si esto falla, l√©elo y corrige antes de intentar Vercel.
PS C:\Users\Leandro Maciel\Documents\operandi> npm run build

> operandi@0.1.0 build
> prisma generate && next build --turbopack

Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma

‚úî Generated Prisma Client (v6.14.0) to .\node_modules\@prisma\client in 299ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate

   ‚ñ≤ Next.js 15.5.0 (Turbopack)
   - Environments: .env.local, .env

   Creating an optimized production build ...
 ‚ö† Found lockfile missing swc dependencies, patching...
 ‚ö† Lockfile was successfully patched, please run "npm install" to ensure @next/swc dependencies are downloaded
 ‚úì Finished writing to disk in 256ms
 ‚úì Compiled successfully in 28.4s
   Skipping validation of types
   Skipping linting
 ‚úì Collecting page data
 ‚úì Generating static pages (13/13)
 ‚úì Collecting build traces
 ‚úì Finalizing page optimization

Route (app)                         Size  First Load JS
‚îå ‚óã /                                0 B         118 kB
‚îú ‚óã /_not-found                      0 B         118 kB
‚îú ‚óã /about                           0 B         118 kB
‚îú ∆í /api/auth/[...nextauth]          0 B            0 B
‚îú ∆í /api/contact                     0 B            0 B
‚îú ∆í /api/cv                          0 B            0 B
‚îú ‚óã /contacto                    64.3 kB         182 kB
‚îú ‚óã /contratar                    3.8 kB         122 kB
‚îú ‚óã /login                       9.21 kB         127 kB
‚îú ‚óã /robots.txt                      0 B            0 B
‚îî ‚óã /sitemap.xml                     0 B            0 B
+ First Load JS shared by all     124 kB
  ‚îú chunks/0656f51f27ce398d.js   17.1 kB
  ‚îú chunks/47f477e3d2ef265b.js   20.4 kB
  ‚îî chunks/b2bb46eb60b37f08.js   58.9 kB
  ‚îî other shared chunks (total)  27.9 kB


‚óã  (Static)   prerendered as static content
∆í  (Dynamic)  server-rendered on demand

PS C:\Users\Leandro Maciel\Documents\operandi> if ($LASTEXITCODE -ne 0) {
>>   Write-Host "`n‚õî La build local fall√≥. Corrig√≠ los errores mostrados arriba y reintent√°." -ForegroundColor Red
>>   break
>> }
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # ========= 5) Vercel: login, link del proyecto y variables de entorno en Production =========
PS C:\Users\Leandro Maciel\Documents\operandi> vercel login
Vercel CLI 46.0.2
? Log in to Vercel Continue with GitHub
> Success! GitHub authentication complete for leandrotvr@gmail.com
Congratulations! You are now logged in. In order to deploy something, run `vercel`.
üí°  Connect your Git Repositories to deploy every branch push automatically (https://vercel.link/git).
PS C:\Users\Leandro Maciel\Documents\operandi> # Link directo a este folder con el proyecto "operandi"
PS C:\Users\Leandro Maciel\Documents\operandi> vercel link --confirm --project operandi
Vercel CLI 46.0.2
WARN! `--confirm` is deprecated, please use `--yes` instead
‚úÖ  Linked to leandrotvrs-projects/operandi (created .vercel)
PS C:\Users\Leandro Maciel\Documents\operandi>
PS C:\Users\Leandro Maciel\Documents\operandi> # Variables de entorno para Production en Vercel
PS C:\Users\Leandro Maciel\Documents\operandi> # IMPORTANTE: peg√° aqu√≠ tu DATABASE_URL del pooler de Supabase (session o transaction con sslmode=require)
PS C:\Users\Leandro Maciel\Documents\operandi> $DATABASE_URL = Read-Host "Pega tu DATABASE_URL para producci√≥n (Supabase pooler, con sslmode=require)"
Pega tu DATABASE_URL para producci√≥n (Supabase pooler, con sslmode=require):